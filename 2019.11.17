# 시스템 콜

## 응용 프로그램, 운영체제, 하드웨어 관계

도서관으로비유

- 운영체제는 도서관
- 응용 프로그램을 시민
- 하드웨어는 책

- 운영체제의 역할
    - 시민은 도서관에 자원(책)을 요청함
    - 도서관은 적절한 자원을 시민에게 빌려줌
    - 시민은 자원을 나중에 돌려줌
- 운영체제는 응용 프로그램이 요청하는 메모리를 허가하고, 분배한다.
- 운영체제는 응용 프로그램이 요청하는 CPU시간을 제공한다.
- 운영체제는 응용 프로그램이 요청하는 IO device 사용을 허가/제어한다.

- 운영체제는  UI를 제공
    - 쉘(Shell)  : 쉘이 사용자에게 요청을 받아서 운영체제에 넘겨준다. 쉘도 하나의 응용 프로그램이라고 할 수 있다.
        - 사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램
        - 쉘은 터미널 환경과(CLI)와 GUI 환경 두 종류로 분류
- 운영체제는 응용 프로그램을 위해서도 인터페이스를 제공한다.
    - API (Application Programing Interface)
        - 함수로 제공
        - open() c언어에서 사용함
    - 보통은 라이브러리(형태)로 제공
        - C library
- 운영체제에서 제공하는 API가 아니면 운영체제에게 요청할 수 없다.

- 운영체제는 시스템 콜이라는 것을 제공한다.
    - 시스템 콜 또는 시스템 호출 인터페이스
    - 운영체제가 운영체제 각기능을 응용프로그램에서 사용할 수 있도록 시스템 콜 이라는 명령 또는 함수를 제공
    - API 내부에는 시스템콜을 호출하는 형태로 만들어지는 경우가 대부분

- 운영체제를 만든다면?
    1. 운영체제를 개발한다. (kernal)
    2. 시스템 콜을 개발
    3. C API(library)
    4. Shell 프로그램
    5. 응용 프로그램 개발

- 운영체제와 시스템 콜
    - 시스템 콜 정의 예
        - POSIX API, 윈도우 API
    - API : 각 언어별 운영체제 기능 호출 인터페이스 함수(시스템 콜을 사용)
    - 시스템 콜 : 운영체제 기능을 호출하는 함수
- 정리
    - 운영체제는 컴퓨터 하드웨어와 응용 프로그램을 관리한다.
    - 응용 프로그램이 운영체제 기능을 요청하기 위해서, 운영체제는 시스템 콜을 제공한다.
        - 보통 시스템 콜을 직접 사용하기 보다는, 해당 시스템 콜을 사용해서 만든 각 언어별 라이브러리(API)를 사용한다.